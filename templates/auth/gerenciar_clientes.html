<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciar Clientes - MAGDA CREW</title>
    <link rel="stylesheet" type="text/css" href="/static/style.css">
    <link rel="icon" href="{{ url_for('static', filename='images/simple_magda_logo.png') }}" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="clientes-page">
    
    <!-- NAVBAR -->
    {% include 'layouts/navbar.html' %}
    
    <!-- Conteúdo Principal -->
    <div class="clientes-container">
        <!-- Cabeçalho Centralizado -->
        <div class="clientes-header">
            <h1><i class="fas fa-users-cog"></i> Gerenciar Clientes</h1>
            <p class="clientes-subtitle">Gerencie os dados dos clientes cadastrados no sistema</p>
            <div class="clientes-count">Total: <strong>{{ usuarios|length }}</strong> clientes</div>
        </div>
        
        <!-- Barra de Ações Centralizada -->
        <div class="clientes-actions">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Buscar cliente por nome, email ou CPF...">
            </div>
            <button class="btn-novo-cliente glow-effect" onclick="novoCliente()">
                <i class="fas fa-user-plus"></i> Novo Cliente
            </button>
        </div>
        
        <!-- Tabela de Clientes Centralizada -->
        <div class="clientes-table-container">
            {% if usuarios %}
            <table class="clientes-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nome Completo</th>
                        <th>E-mail</th>
                        <th>Telefone</th>
                        <th>CPF</th>
                        <th>Data Nascimento</th>
                        <th>Data Cadastro</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                    {% for usuario in usuarios %}
                    <tr>
                        <td>#{{ usuario.id }}</td>
                        <td><strong>{{ usuario.nome_completo }}</strong></td>
                        <td>{{ usuario.email }}</td>
                        <td>{{ usuario.telefone }}</td>
                        <td>{{ usuario.cpf }}</td>
                        <td>{{ usuario.nascimento }}</td>
                        <td>{{ usuario.data_cadastro }}</td>
                        <td class="acoes-cell">
                            <button class="btn-acao editar" title="Editar" onclick="editarCliente({ usuario })">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-acao excluir" title="Excluir" onclick="excluirCliente({ usuario })">
                                <i class="fas fa-trash"></i>
                            </button>
                            <button class="btn-acao visualizar" title="Visualizar" onclick="visualizarCliente({ usuario })">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <div class="no-clientes">
                <i class="fas fa-users-slash"></i>
                <h3>Nenhum cliente cadastrado</h3>
                <p>Comece cadastrando seu primeiro cliente</p>
                <button class="btn-novo-cliente glow-effect" onclick="novoCliente()">
                    <i class="fas fa-user-plus"></i> Cadastrar Primeiro Cliente
                </button>
            </div>
            {% endif %}
        </div>
        
        <!-- Card de Informações Centralizado -->
        <div class="info-card">
            <h3><i class="fas fa-info-circle"></i> Informações do Sistema</h3>
            <p>Esta página permite visualizar, editar e excluir clientes do sistema.</p>
            <p>Use os filtros de busca para localizar clientes específicos rapidamente.</p>
            <p>Todos os dados são processados com segurança e privacidade.</p>
        </div>
    </div>
    
    <!-- Footer com Espaçamento -->
    <div class="footer-spacer">
        {% include 'layouts/footer.html' %}
    </div>
    
    <!-- Scripts -->
    <script>
        function novoCliente() {
            alert('Funcionalidade: Cadastrar novo cliente\nEsta funcionalidade será implementada em breve!');
        }
        
        function editarCliente(id) {
            alert(`Funcionalidade: Editar cliente ID ${id}\nEsta funcionalidade será implementada em breve!`);
        }
        
        function excluirCliente(id) {
            if (confirm(`Tem certeza que deseja excluir o cliente ID ${id}?\nEsta ação não pode ser desfeita.`)) {
                alert(`Cliente ID ${id} excluído com sucesso!\n(Simulação - em produção chamaria API)`);
            }
        }
        
        function visualizarCliente(id) {
            alert(`Funcionalidade: Visualizar detalhes do cliente ID ${id}\nEsta funcionalidade será implementada em breve!`);
        }
        
        // Busca em tempo real
        const searchInput = document.querySelector('.search-box input');
        if (searchInput) {
            searchInput.addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                const rows = document.querySelectorAll('.clientes-table tbody tr');
                
                rows.forEach(row => {
                    const text = row.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        row.style.display = '';
                        row.style.animation = 'slideInRow 0.3s ease';
                    } else {
                        row.style.display = 'none';
                    }
                });
            });
        }
        
        // Efeito hover nas linhas
        document.querySelectorAll('.clientes-table tbody tr').forEach(row => {
            row.addEventListener('mouseenter', function() {
                this.style.backgroundColor = '#f8f9fa';
            });
            
            row.addEventListener('mouseleave', function() {
                this.style.backgroundColor = '';
            });
        });
    </script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>